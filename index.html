<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Duck Race</title>
<style>
body { font-family: Arial; text-align:center; background:#f5f5f5 }
.container { width: 900px; margin:auto }
textarea { width: 300px; height: 120px; }
.track { position:relative; width:800px; margin:10px auto; background:#fff; border:1px solid #ccc; border-radius:10px; padding:10px }
.duck {
  position:relative;
  display:flex;
  align-items:center;
  gap:10px;
  font-size:20px;
  margin:6px 0;
  transition: transform .2s;
}
.duck .icon { font-size:28px; }
.progress { height:10px; background:#ddd; border-radius:8px; width:100% }
.bar { height:10px; border-radius:8px; width:0% }
.finish { position:absolute; right:0; top:0; bottom:0; width:10px; background:red; border-radius:10px }
</style>
</head>
<body>
<div class="container">
<h2>üê• Duck Racing</h2>

<p>Nh·∫≠p t√™n v·ªãt (m·ªói d√≤ng m·ªôt con):</p>
<textarea id="nameInput" placeholder="V·ªãt v√†ng
V·ªãt xanh
V·ªãt cam"></textarea><br><br>

<button onclick="startRace()">B·∫Øt ƒë·∫ßu ƒëua</button>

<div id="raceArea"></div>
</div>

<script>
const colors = ["#ffb703","#219ebc","#9b5de5","#2a9d8f","#ef476f",
                "#ff006e","#8338ec","#3a86ff","#8ac926","#ffca3a"];

function startRace() {
  const area = document.getElementById("raceArea");
  area.innerHTML = "";

  const names = document.getElementById("nameInput")
                 .value.split("\n")
                 .map(s => s.trim())
                 .filter(s => s !== "");

  if (names.length === 0) {
    alert("H√£y nh·∫≠p √≠t nh·∫•t 1 t√™n v·ªãt!");
    return;
  }

  names.forEach((name,i) => {
    const track = document.createElement("div");
    track.className = "track";

    const duck = document.createElement("div");
    duck.className = "duck";

    const icon = document.createElement("span");
    icon.className = "icon";
    icon.textContent = "ü¶Ü";
    icon.style.filter = `drop-shadow(0 0 6px ${colors[i%colors.length]})`;

    const label = document.createElement("span");
    label.textContent = name;

    const progress = document.createElement("div");
    progress.className = "progress";

    const bar = document.createElement("div");
    bar.className = "bar";
    bar.style.background = colors[i % colors.length];

    progress.appendChild(bar);

    duck.appendChild(icon);
    duck.appendChild(label);

    track.appendChild(duck);
    track.appendChild(progress);

    const finish = document.createElement("div");
    finish.className = "finish";
    track.appendChild(finish);

    area.appendChild(track);

    animate(bar, name);
  });
}

function animate(bar,name){
  let pos = 0;
  const timer = setInterval(()=>{
    pos += Math.random()*3;
    bar.style.width = pos + "%";

    if(pos >= 100){
      bar.style.width = "100%";
      clearInterval(timer);
      alert("üèÅ V·ªãt chi·∫øn th·∫Øng: " + name);
    }
  },120);
}
</script>
</body>
</html>
